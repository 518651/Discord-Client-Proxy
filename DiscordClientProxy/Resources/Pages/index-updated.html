<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Discord Test Client</title>
		<link rel="stylesheet" href="/assets/fosscord.css" />
		<link id="logincss" rel="stylesheet" href="/assets/fosscord-login.css" />
		<link id="customcss" rel="stylesheet" href="/assets/user.css" />
		<!-- preload plugin marker -->
	</head>

	<body>
		<div id="app-mount"></div>
		<script>
			window.__OVERLAY__ = /overlay/.test(location.pathname);
			window.__BILLING_STANDALONE__ = /^\/billing/.test(location.pathname);
			window.GLOBAL_ENV = {
				API_ENDPOINT: "/api",
				API_VERSION: 9,
				GATEWAY_ENDPOINT: `${location.protocol === "https:" ? "wss://" : "ws://"}${location.hostname}:2001`,
				WEBAPP_ENDPOINT: "",
				CDN_HOST: `${location.hostname}:3003`,
				ASSET_ENDPOINT: "",
				MEDIA_PROXY_ENDPOINT: "https://media.discordapp.net",
				WIDGET_ENDPOINT: `//${location.host}/widget`,
				INVITE_HOST: `${location.host}/invite`,
				GUILD_TEMPLATE_HOST: "discord.new",
				GIFT_CODE_HOST: "discord.gift",
				RELEASE_CHANNEL: "staging",
				DISCORD_TEST: true,
				PROJECT_ENV: "staging",
				MARKETING_ENDPOINT: "//discord.com",
				BRAINTREE_KEY: "production_5st77rrc_49pp2rp4phym7387",
				STRIPE_KEY: "pk_live_CUQtlpQUF0vufWpnpUmQvcdi",
				NETWORKING_ENDPOINT: "//router.discordapp.net",
				RTC_LATENCY_ENDPOINT: "//latency.discord.media/rtc",
				ACTIVITY_APPLICATION_HOST: 'discordsays.com',
				REMOTE_AUTH_ENDPOINT: "//localhost:3020",
				SENTRY_TAGS: { buildId: "75e36d9", buildType: "normal" },
				MIGRATION_SOURCE_ORIGIN: "https://discordapp.com",
				MIGRATION_DESTINATION_ORIGIN: "https://discord.com",
				HTML_TIMESTAMP: Date.now(),
				ALGOLIA_KEY: "aca0d7082e4e63af5ba5917d5e96bed0"
			};
			GLOBAL_ENV.MEDIA_PROXY_ENDPOINT = location.protocol + "//" + GLOBAL_ENV.CDN_HOST;
			const localStorage = window.localStorage;
			// TODO: remote auth
			// window.GLOBAL_ENV.REMOTE_AUTH_ENDPOINT = window.GLOBAL_ENV.GATEWAY_ENDPOINT.replace(/wss?:/, "");
			localStorage.setItem("gatewayURL", window.GLOBAL_ENV.GATEWAY_ENDPOINT);
			localStorage.setItem(
				"DeveloperOptionsStore",
				JSON.stringify({
					trace: false,
					canary: true,
					logGatewayEvents: true,
					logOverlayEvents: true,
					logAnalyticsEvents: true,
					sourceMapsEnabled: false,
					axeEnabled: true,
					bugReporterEnabled: true,
					idleStatusIndicatorEnabled: false
				})
			);

			setInterval(() => {
				var token = JSON.parse(localStorage.getItem("token"));
				if (token) {
					var logincss = document.querySelector('#logincss'),
					canRemove = logincss ? logincss: "";
					if(canRemove !== "") {
					document.querySelector("#logincss").remove();
					canRemove = "";
					}
				}
			}, 1000)

			const settings = JSON.parse(localStorage.getItem("UserSettingsStore"));
			if (settings && settings.locale.length <= 2) {
				// fix client locale wrong and client not loading at all
				settings.locale = "en-US";
				localStorage.setItem("UserSettingsStore", JSON.stringify(settings));
			}
		</script>
				<link rel="prefetch" as="script" href="/assets/924b4a7a5cd7bbbf740f.js">
		<link rel="prefetch" as="script" href="/assets/6035eaba0cab2788d4f5.js">
		<link rel="prefetch" as="script" href="/assets/96315bca7e58c7f86fe9.js">
		<link rel="prefetch" as="script" href="/assets/005c709298b5eaea0db1.js">
		<link rel="prefetch" as="script" href="/assets/7cac7069e7c1e5dc8d0b.js">
		<link rel="prefetch" as="script" href="/assets/f4c4789de663acfddc03.js">
		<link rel="prefetch" as="script" href="/assets/40077a2ea29571c8fdff.js">
		<link rel="prefetch" as="script" href="/assets/511613388dc26bd24ef3.js">
		<link rel="prefetch" as="script" href="/assets/e948f6857bd5d73d170f.js">
		<link rel="prefetch" as="script" href="/assets/8ac2eec0ada1ed031caf.js">
		<link rel="prefetch" as="script" href="/assets/05be73a8be7242352587.js">
		<link rel="prefetch" as="script" href="/assets/d9deb4dd82106f60b2d2.js">
		<link rel="prefetch" as="script" href="/assets/af55ae632902e3efd427.js">
		<link rel="prefetch" as="script" href="/assets/69ba7bde9854a7b7c189.js">
		<link rel="prefetch" as="script" href="/assets/327e31c86e028cd5a55e.js">
		<link rel="prefetch" as="script" href="/assets/3f75316b4bda8dfc8cdc.js">
		<link rel="prefetch" as="script" href="/assets/a8d08acc7ae5d99b3ca4.js">
		<link rel="prefetch" as="script" href="/assets/8ed4728c7b7031968c19.js">
		<link rel="prefetch" as="script" href="/assets/32885778c6eedc7cd5f7.js">
		<link rel="prefetch" as="script" href="/assets/b6f628d3bb6ee614948a.js">
		<link rel="prefetch" as="script" href="/assets/a923a074d93446ab2f6e.js">
		<link rel="prefetch" as="script" href="/assets/ac062235ff7a8e7e5995.js">
		<link rel="prefetch" as="script" href="/assets/df76d59fa83e2eeeaa5e.js">
		<link rel="prefetch" as="script" href="/assets/864b36cc5f93821f7233.js">
		<link rel="prefetch" as="script" href="/assets/a791aa328bedaca2a70b.js">
		<link rel="prefetch" as="script" href="/assets/ea029af4eb7df91790ec.js">
		<link rel="prefetch" as="script" href="/assets/0340f33bbf555c512d44.js">
		<link rel="prefetch" as="script" href="/assets/9c8fda4fb38b19c802fd.js">
		<link rel="prefetch" as="script" href="/assets/bd6ff5fa77f16617f934.js">
		<link rel="prefetch" as="script" href="/assets/e359960d63eb0735ec74.js">
		<link rel="prefetch" as="script" href="/assets/2d48ca14009df190f1d4.js">
		<link rel="prefetch" as="script" href="/assets/0ce67f823c42ed164f6e.js">
		<link rel="prefetch" as="script" href="/assets/113071157d24cbe6080c.js">
		<link rel="prefetch" as="script" href="/assets/dab89bf8a73eadfc8dac.js">
		<link rel="prefetch" as="script" href="/assets/035ca4cd0776dbfb10d9.js">
		<link rel="prefetch" as="script" href="/assets/d85ee794a9992b2e47b0.js">
		<link rel="prefetch" as="script" href="/assets/a82be6a958e689de4bfa.js">
		<link rel="prefetch" as="script" href="/assets/e64a892db475486542d9.js">
		<link rel="prefetch" as="script" href="/assets/744fa8fb8fe51e154fd6.js">
		<link rel="prefetch" as="script" href="/assets/656405e143f63c7f4192.js">
		<link rel="prefetch" as="script" href="/assets/e075dbcb418b127f18ad.js">
		<link rel="prefetch" as="script" href="/assets/8983c6187be8937b42f6.js">
		<link rel="prefetch" as="script" href="/assets/b1730d6eefa439d48506.js">
		<link rel="prefetch" as="script" href="/assets/f4fd843a1f417e4f2280.js">
		<link rel="prefetch" as="script" href="/assets/a677b9ddd69c798b09b4.js">
		<link rel="prefetch" as="script" href="/assets/31cb67564e57451dffd2.js">
		<link rel="prefetch" as="script" href="/assets/0fe1a7448e52bed5c10c.js">
		<link rel="prefetch" as="script" href="/assets/86bccdd413c3daff0c95.js">
		<link rel="prefetch" as="script" href="/assets/dd19d2b338eefe0f9d20.js">
		<link rel="prefetch" as="script" href="/assets/9c61603674b889ce2bfb.js">
		<link rel="prefetch" as="script" href="/assets/6235e2e5d79fc623eedf.js">
		<link rel="prefetch" as="script" href="/assets/86e7389d0665ab7a2c2c.js">
		<link rel="prefetch" as="script" href="/assets/7c621ca90e4553187bc3.js">
				<link rel="stylesheet" href="/assets/40532.f0ba6735a6daae2e51c1.css" hashes="sha256-cSfBpyVjcFtlAf2nF6G05FJauVu7Rwx4nZNV5JoGxgU= sha512-Ht/1jwhCuVOxasVm9MzE5HN38FRjMJOfrFv7OlEt7SXFoccxAjbznY5vEPkTVmsJ3d4Ck8Xk9k7M/VPn0R8KZA==">
	 	<script src="/assets/checkLocale.js"></script>
				<script src="/assets/9460c175edd51e63003a.js" hashes="sha256-oXO8R0hqdYUClyqJTjXVmRRn5i5d/fu/bhc3u6ObIls= sha512-R+7JofB/f8EYaECaQjbYfHTxGBZ308Kq09/dz8be71/FtGW0UCWlz/+2HgB8N0qFO6wg2qIiaSCMu3yOh7k0Hw=="></script>
		<script src="/assets/924b4a7a5cd7bbbf740f.js" hashes="sha256-HIDPxcFjKfwgpyCzk2/G2xa7J40Yckum1ow+SKazfp0= sha512-kZULrd5KfHpmwh7nHlWgCCMQru1ukVy86GOGhksGYFTzEDUyYftF9zqqAVfVR4dJuwOb4wtQrn4LKbaEDfDXTA=="></script>
		<script src="/assets/446e534b65fa0ae32f56.js" hashes="sha256-S2mmLkjF6pbButbUU3X8dAg3YUvBhtZRoMnG48ZuNRo= sha512-tSjppYtZ8+JvQgeZqYIdhlomSFTdbzh6ObaqWocFtPOjGXXqoM8aZm7Towo08bGWylwk8Dm5XsF5JNKwnDEOtg=="></script>
		<script src="/assets/c348a878a07edcfdb155.js" hashes="sha256-XS4qTA9OQZvuqHoKowiLk87rwMiTfiOyAzaYMPXHeLk= sha512-02mRW+Gt3UcYx9SIqaEoq00Ibu1LJ2Ryrqae3MI1wrznKQj8ih9Igr1bbxm79yXe/vS6gd783ae9C26MEaYUyA=="></script>
		<!-- plugin marker -->
	</body>
</html>
